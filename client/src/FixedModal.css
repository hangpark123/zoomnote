/* client/src/FixedModal.css */

/* 
 * NUCLEAR OPTION: Force reset on body/html to ensure they don't create 
 * a containing block for fixed positioned elements.
 */
body,
html {
    transform: none !important;
    filter: none !important;
    perspective: none !important;
    contain: none !important;
    /* Ensure body doesn't stick to bottom */
    height: 100%;
    min-height: 100%;
}

/* 
 * This file contains critical styles for the application modals.
 * It uses high-specificity selectors and !important to ensure perfect positioning 
 * regardless of parent container styles or other CSS conflicts.
 */

.fixed-modal-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    background-color: rgba(0, 0, 0, 0.7) !important;
    z-index: 2147483647 !important;
    /* Max integer value for z-index */
    display: flex !important;
    justify-content: center !important;
    align-items: flex-start !important;
    /* Top alignment */
    padding-top: 50px !important;
    overflow-y: auto !important;
    backdrop-filter: blur(2px);
}

.fixed-modal-content {
    background: var(--surface-color, white) !important;
    padding: 0 !important;
    /* Reset padding, inner areas handle it */
    border-radius: 8px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5) !important;
    /* margin-bottom to allow scrolling past the modal end */
    margin-bottom: 50px !important;
    position: relative !important;
    /* Width handling */
    width: auto !important;
    max-width: 90vw !important;
}

/* Specific adjustments for small confirmation modals */
.fixed-modal-content.mini {
    padding: 30px !important;
    margin-top: 20vh !important;
    /* Center vertically specifically */
    width: 400px !important;
    max-width: 90vw !important;
    display: flex;
    flex-direction: column;
    gap: 16px;
}


/* Make sure the internal print area looks good inside the new modal content class */
.fixed-modal-content .print-preview-area {
    margin: 0 !important;
    padding: 40px !important;
    /* Internal padding for the paper look */
    background: var(--surface-color, white);
    min-height: 29.7cm;
    /* A4 height approx */
    width: 21cm;
    /* A4 width */
}

/* 
   PRINT MEDIA QUERY 
   Essential to override the fixed positioning when actually printing on paper
*/
@media print {

    body,
    html {
        transform: none !important;
        height: auto !important;
        overflow: visible !important;
    }

    .fixed-modal-overlay {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: auto !important;
        background: none !important;
        display: block !important;
        padding: 0 !important;
        overflow: visible !important;
        z-index: auto !important;
    }

    .fixed-modal-content {
        box-shadow: none !important;
        margin: 0 !important;
        border: none !important;
        width: 100% !important;
        max-width: none !important;
    }

    .fixed-modal-content .print-preview-area {
        padding: 0 !important;
        margin: 0 !important;
        width: 100% !important;
    }

    /* Hide buttons */
    .modal-actions {
        display: none !important;
    }
}